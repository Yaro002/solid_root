<!DOCTYPE html>
<html lang="en">
  <head>
    <script
      defer
      src="https://kit.fontawesome.com/3ca71944c4.js"
      crossorigin="anonymous"
    ></script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>quote generator login page</title>

    <style>
      /* universal styling */

      *,
      *::before,
      *::after {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
      }

      :root {
        --primary-color: #f5f8f9;
        --secondary-color1: #fb4b4a;
        --dark-opacity: rgba(0, 0, 0, 0.081);
        --dark-text: black;
        --light-text: white;
        --link-color: blue;
      }

      /* body style */

      body {
        font-family: "Courier New", Courier, monospace;
        font-size: 16px;
        width: 100%;
        /* min-height: 100vh; */
        display: flex;
        justify-content: center;
        align-items: center;

        padding-top: 60px;
        padding-bottom: 20px;
        background-color: var(--primary-color);
      }

      /* parent container */

      .container {
        width: 90%;
        max-width: 550px;
        border: none;
        outline: none;
        border-radius: 5px;
        box-shadow: 0 0 10px var(--dark-opacity);
        text-align: center;
        /* margin: auto; */
        padding: 20px;
        background-color: var(--light-text);
        animation: fadeIn 0.9s ease-in-out;
      }

      /* parent form */

      .container > form {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: flex-start;

        width: 100%;
      }

      /* input style */
      .container > form > input {
        width: 100%;
        height: 38px;
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid var(--dark-opacity);
        outline: none;
        box-shadow: 0 0 10px var(--dark-opacity);
        background-color: var(--primary-color);
      }
      .container > form > #psw2 {
        margin-bottom: 0;
      }

      /* icons */
      .fa-solid {
        color: var(--secondary-color1);
        font-size: 16px;
      }

      /* form heading */
      .container > form > h3 {
        font-size: 37px;
        text-align: center;
        width: 100%;
        margin-bottom: 25px;
        background: linear-gradient(
          to right,
          var(--secondary-color1) 10%,
          var(--light-text) 60%
        );
        color: var(--secondary-color1);
      }

      @media (max-width: 768px) {
        .container > form > h3 {
          font-size: 25px;
        }
      }

      #login-btn {
        margin-top: 15px;
        box-shadow: none;
        font-family: "Courier New", Courier, monospace;
        font-size: medium;
        transition: all 0.3s linear;
        color: var(--secondary-color1);
        cursor: pointer;
      }

      #login-btn:hover {
        box-shadow: 0 0 10px var(--dark-opacity);
        background-color: var(--secondary-color1);
        color: var(--light-text);
        letter-spacing: 3px;
      }

      #member {
        text-align: center;
        width: 100%;
      }
      #member > a {
        cursor: pointer;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.9);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <form action="">
        <h3><span style="color: var(--light-text)">LOGIN</span> PAGE</h3>

        <label for=""
          ><i class="fa-solid fa-envelope" aria-hidden="true"></i> Email
          Address</label
        >

        <input type="email" name="" value="" id="email" required />

        <label for=""
          ><i class="fa-solid fa-lock" aria-hidden="true"></i> Password</label
        >

        <input type="password" name="" value="" id="psw1" required />

        <input type="submit" value="Login" id="login-btn" />

        <p id="member">
          Not a member? <a href="./registration.html">Register here</a>
        </p>
      </form>
    </div>

    <!--  -->

    <script>
      // Reference DOM elements
      const email = document.querySelector("#email");
      const password = document.querySelector("#psw1");
      const submitBtn = document.querySelector("#login-btn");

      submitBtn.addEventListener("click", (e) => {
        e.preventDefault(); // Prevent form submission

        // Get the email entered by the user
        const storedUser = localStorage.getItem(email.value);

        // Check if the user exists in localStorage
        if (storedUser) {
          const loginData = JSON.parse(storedUser); // Parse the JSON string back into an object

          // Check if the password matches
          if (loginData.password1 === password.value) {
            alert("Login successful!");
            window.location = "./quote.html"; // Redirect to the quote page
          } else {
            alert("Incorrect password.");
          }
        } else {
          alert("No account found with this email.");
        }
      });
    </script>

    <!--  -->
  </body>
</html>
